Fetching Data in React - Understanding

Big picture first (so the lines make sense)

This code:

creates state

fetches data from an API (Star Wars API)

stores that data in state

displays it on the screen

Now letâ€™s go line by line, slowly.
	
1ï¸âƒ£ const [starWarsData, setStarWarsData] = useState(null)

What this does

This line creates state in a React component.

Break it down

useState(null)
â†’ Creates a piece of state with an initial value of null

starWarsData
â†’ The current value of the state

setStarWarsData
â†’ A function to update that state

Why null?

Because at first, we donâ€™t have data yet

The data will arrive later from the API

ğŸ“Œ Think of it like:

â€œI have a box called starWarsData, but itâ€™s empty for now.â€

2ï¸âƒ£ fetch("https://swapi.dev/api/people/1")

What this does

Sends a request to the Star Wars API

Asks for data about person #1 (Luke Skywalker)

Important idea

fetch is asynchronous â†’ it takes time

It immediately returns a Promise

3ï¸âƒ£ .then(res => res.json())

What this does

Waits for the API to respond

Converts the response into JSON

Why is this needed?

The raw response is not usable yet

.json() turns it into a JavaScript object

ğŸ“Œ Flow so far:

Request â†’ Response â†’ Convert to JSON

4ï¸âƒ£ .then(data => setStarWarsData(data))

What this does

Takes the parsed JSON data

Stores it in React state

Key idea

Calling setStarWarsData(data):

Updates state

Causes the component to re-render

Now starWarsData contains real data ğŸ‰

5ï¸âƒ£ return ( ... )

This is JSX â€” what your component displays.

6ï¸âƒ£ <pre>{JSON.stringify(starWarsData, null, 2)}</pre>

Break it down

<pre>
â†’ Preserves spacing and formatting

JSON.stringify(...)
â†’ Converts the object into readable text

The arguments

starWarsData â†’ the data to convert

null â†’ no custom formatting function

2 â†’ indent spacing (pretty-print)

Why do this?

Objects canâ€™t be displayed directly in JSX

This makes the API data human-readable